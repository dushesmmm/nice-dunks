{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */ /* eslint-disable no-unused-vars */import React,{useState,useEffect}from'react';import classes from'./ProductsPage.module.css';import{useLocation,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductsPage=()=>{const[originalProducts,setOriginalProducts]=useState([]);const[products,setProducts]=useState([]);const[loading,setLoading]=useState(false);const[page,setPage]=useState(1);const[loadedProductIds,setLoadedProductIds]=useState(new Set());const[sortOrder,setSortOrder]=useState('desc');const[sortBy,setSortBy]=useState('createdAt');const[showSizeOptions,setShowSizeOptions]=useState(false);const[showBrandOptions,setShowBrandOptions]=useState(false);const[showCategoryOptions,setShowCategoryOptions]=useState(false);const[apiBrands,setApiBrands]=useState([]);const[availableSizes,setAvailableSizes]=useState([]);const[selectedSizeOptions,setSelectedSizeOptions]=useState([]);const[allBrands,setAllBrands]=useState([]);const[selectedBrandOptions,setSelectedBrandOptions]=useState([]);const[selectedCategoryOptions,setSelectedCategoryOptions]=useState([]);const navigate=useNavigate();const location=useLocation();const searchParams=new URLSearchParams(location.search);const selectedBrand=searchParams.get('brand');const[prevScrollPos,setPrevScrollPos]=useState(0);const[isFixed,setIsFixed]=useState(false);const[isFixedTriggered,setIsFixedTriggered]=useState(false);const screenWidth=window.innerWidth;const fetchProducts=async()=>{try{setLoading(true);const response=await fetch(\"https://nicedunks.ru/api/sneakers?\");const data=await response.json();const newProducts=data.filter(product=>!loadedProductIds.has(product.vendorCode));newProducts.reverse();setOriginalProducts(prevOriginalProducts=>[...prevOriginalProducts,...newProducts]);setProducts(prevProducts=>[...prevProducts,...newProducts]);setLoadedProductIds(prevIds=>new Set([...prevIds,...newProducts.map(product=>product.vendorCode)]));setPage(prevPage=>prevPage+1);}catch(error){console.error('Ошибка при загрузке товаров',error);}finally{setLoading(false);}};const handleScrollFixed=()=>{const currentScrollPos=window.scrollY;const isMobile=screenWidth<=486;if(isMobile){setIsFixed(prevScrollPos>currentScrollPos);if(currentScrollPos<100){setIsFixed(false);}setPrevScrollPos(currentScrollPos);}};useEffect(()=>{if(isFixed){setIsFixedTriggered(true);}if(window.scrollY<200){setIsFixedTriggered(false);}},[isFixed]);useEffect(()=>{window.addEventListener('scroll',handleScrollFixed);return()=>window.removeEventListener('scroll',handleScrollFixed);},[prevScrollPos]);useEffect(()=>{window.addEventListener('scroll',handleScrollFixed);return()=>window.removeEventListener('scroll',handleScrollFixed);},[prevScrollPos]);const getQueryParam=name=>{const params=new URLSearchParams(location.search);return params.get(name);};useEffect(()=>{const sizesParam=getQueryParam('sizes');const brandsParam=getQueryParam('brands');const categoryParam=getQueryParam('category');const sortByParam=getQueryParam('sortBy');const sortOrderParam=getQueryParam('sortOrder');if(sizesParam){setSelectedSizeOptions(sizesParam.split(','));}if(brandsParam){const brandOptions=brandsParam.split(',').map(brand=>({brand:brand.trim()}));setSelectedBrandOptions(brandOptions);}if(categoryParam){setSelectedCategoryOptions(categoryParam.split(','));}if(sortByParam){setSortBy(sortByParam);}if(sortOrderParam){setSortOrder(sortOrderParam);}},[]);const updateUrl=()=>{const searchParams=new URLSearchParams();if(selectedSizeOptions.length>0){searchParams.append('sizes',selectedSizeOptions.join(','));}if(selectedBrandOptions.length>0){searchParams.append('brands',selectedBrandOptions.map(option=>option.brand).join(','));}if(selectedCategoryOptions.length>0){searchParams.append('category',selectedCategoryOptions.join(','));}searchParams.append('sortBy',sortBy);searchParams.append('sortOrder',sortOrder);navigate(\"?\".concat(searchParams.toString()));};useEffect(()=>{updateUrl();},[selectedSizeOptions,selectedBrandOptions,selectedCategoryOptions,sortOrder,sortBy]);useEffect(()=>{if(selectedBrand){handleBrandOptionClick(selectedBrand);}},[selectedBrand]);const fetchBrands=async()=>{try{const response=await fetch('https://nicedunks.ru/api/brands');const data=await response.json();setApiBrands(data);}catch(error){console.error('Ошибка при загрузке брендов:',error);}};useEffect(()=>{fetchBrands();},[]);useEffect(()=>{fetchProducts();},[]);const handleScroll=()=>{const scrollThreshold=100;const isCloseToBottom=window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-scrollThreshold;if(isCloseToBottom&&!loading){fetchProducts();}};useEffect(()=>{window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[loading]);const handleScrollPopup=()=>{const currentScrollPos=window.scrollY;const isMobile=screenWidth<=486;if(isMobile&&(showSizeOptions||showBrandOptions||showCategoryOptions)&&prevScrollPos<currentScrollPos){setShowSizeOptions(false);setShowBrandOptions(false);setShowCategoryOptions(false);}setPrevScrollPos(currentScrollPos);};useEffect(()=>{window.addEventListener('scroll',handleScrollPopup);return()=>window.removeEventListener('scroll',handleScrollPopup);},[showSizeOptions,showBrandOptions,showCategoryOptions]);const redirectToProductPage=vendorCode=>{const link=\"/product/\".concat(vendorCode.toLowerCase());navigate(link);};const formatBrand=brand=>{const words=brand.split(/\\s*,\\s*/);if(words.length>1){return words.join(' X ');}return brand;};const handleSortClick=sortType=>{if(sortType===sortBy){setSortOrder(sortOrder==='asc'?'desc':'asc');}else{setSortBy(sortType);setSortOrder('asc');}};const handleSizeOptionClick=async size=>{try{const response=await fetch(\"https://nicedunks.ru/api/sneakers?sizes=\".concat(size));const newData=await response.json();if(selectedSizeOptions.includes(size)){setSelectedSizeOptions(prevOptions=>prevOptions.filter(prevSize=>prevSize!==size));}else{const uniqueNewData=newData.filter(newItem=>{return!originalProducts.some(existingItem=>{return newItem.id===existingItem.id;});});setOriginalProducts(prevOriginalProducts=>[...prevOriginalProducts,...uniqueNewData]);setSelectedSizeOptions(prevOptions=>[...prevOptions,size]);}}catch(error){console.error('Ошибка при получении данных:',error);}};const handleBrandOptionClick=async brand=>{try{const response=await fetch(\"https://nicedunks.ru/api/sneakers?brands=\".concat(brand));const data=await response.json();const selectedBrands=brand.split(',').map(item=>item.trim());const isBrandSelected=selectedBrandOptions.some(option=>{const optionBrands=option.brand.split(',').map(item=>item.trim());return optionBrands.some(brand=>selectedBrands.includes(brand));});if(isBrandSelected){setSelectedBrandOptions(prevOptions=>prevOptions.filter(option=>{const optionBrands=option.brand.split(',').map(item=>item.trim());return!optionBrands.some(brand=>selectedBrands.includes(brand));}));setProducts(prevProducts=>prevProducts.filter(product=>!data.some(newItem=>newItem.id===product.id)));}else{setProducts(prevProducts=>[...prevProducts,...data]);setSelectedBrandOptions(prevOptions=>[...prevOptions,...data]);}}catch(error){console.error('Ошибка при получении данных:',error);}};const handleCategoryOptionClick=async category=>{try{const response=await fetch(\"https://nicedunks.ru/api/sneakers?category=\".concat(category));const data=await response.json();console.log('Полученные данные:',data);const isCategorySelected=selectedCategoryOptions.indexOf(category)!==-1;if(isCategorySelected){setSelectedCategoryOptions(prevOptions=>prevOptions.filter(option=>option!==category));setProducts(prevProducts=>prevProducts.filter(product=>!data.some(newItem=>newItem.id===product.id)));}else{setProducts(prevProducts=>[...prevProducts,...data]);setSelectedCategoryOptions(prevOptions=>[...prevOptions,category]);}}catch(error){console.error('Ошибка при получении данных:',error);}};const handleSizeFilterClick=()=>{setShowSizeOptions(prevShowSizeOptions=>!prevShowSizeOptions);if(window.innerWidth<=486){setShowBrandOptions(false);setShowCategoryOptions(false);}};const handleBrandFilterClick=()=>{setShowBrandOptions(prevShowBrandOptions=>!prevShowBrandOptions);if(window.innerWidth<=486){setShowSizeOptions(false);setShowCategoryOptions(false);}};const handleCategoryFilterClick=()=>{setShowCategoryOptions(prevShowCategoryOptions=>!prevShowCategoryOptions);if(window.innerWidth<=486){setShowBrandOptions(false);setShowSizeOptions(false);}};const applyFilters=()=>{let filteredProducts=[...originalProducts];if(selectedSizeOptions.length>0){filteredProducts=filteredProducts.filter(product=>product.sizes.some(size=>selectedSizeOptions.includes(size)));}if(selectedBrandOptions.length>0){filteredProducts=filteredProducts.filter(product=>selectedBrandOptions.some(option=>option.brand===product.brand));}if(selectedCategoryOptions.length>0){filteredProducts=filteredProducts.filter(product=>selectedCategoryOptions.some(selectedCategory=>product.categories[selectedCategory]));}// Сортировка\nif(sortBy==='price'){filteredProducts.sort((a,b)=>{const priceA=a.price;const priceB=b.price;return sortOrder==='asc'?priceA-priceB:priceB-priceA;});}if(sortBy==='createdAt'){filteredProducts.sort((a,b)=>{const dateA=new Date(a.createdAt);const dateB=new Date(b.createdAt);return sortOrder==='asc'?dateA-dateB:dateB-dateA;});}setProducts(filteredProducts);};useEffect(()=>{applyFilters();},[selectedSizeOptions,selectedBrandOptions,selectedCategoryOptions,sortOrder,sortBy,originalProducts]);useEffect(()=>{const sizes=[...new Set(originalProducts.flatMap(product=>product.sizes))];sizes.sort((a,b)=>parseFloat(a)-parseFloat(b));setAvailableSizes(sizes);const brands=[...new Set(originalProducts.map(product=>product.brand))];brands.sort((a,b)=>parseFloat(a)-parseFloat(b));setAllBrands(brands);},[originalProducts]);const categoryMapping={accessories:'Аксессуары',clothes:'Одежда',newSneakers:'Новые пары',preorder:'Предзаказ',used:'Б/У'};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.Wrapper,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.Filters,\" \").concat(isFixed?classes.fixed:screenWidth<=486&&isFixedTriggered?classes.notfixed:''),children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u043E:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleSizeFilterClick(),style:{color:selectedSizeOptions.length>0?'#AC8BD5':''},children:[\"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440\\u044B\",showSizeOptions&&/*#__PURE__*/_jsx(\"div\",{className:classes.Options,children:availableSizes.map(size=>/*#__PURE__*/_jsx(\"button\",{className:selectedSizeOptions.includes(size)?classes.SelectedOption:'',onClick:e=>{e.stopPropagation();handleSizeOptionClick(size);},children:size},size))})]}),/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleBrandFilterClick(),style:{color:selectedBrandOptions.length>0?'#AC8BD5':''},children:[\"\\u0411\\u0440\\u0435\\u043D\\u0434\\u044B\",showBrandOptions&&/*#__PURE__*/_jsx(\"div\",{className:classes.Options,children:apiBrands.map(brand=>{const isSelected=selectedBrandOptions.some(option=>option.brand===brand);const brandClass=isSelected?classes.SelectedOption:'';return/*#__PURE__*/_jsx(\"button\",{className:brandClass,onClick:e=>{e.stopPropagation();handleBrandOptionClick(brand);},children:formatBrand(brand)},brand);})})]}),/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleCategoryFilterClick(),style:{color:selectedCategoryOptions.length>0?'#AC8BD5':''},children:[\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\",showCategoryOptions&&/*#__PURE__*/_jsx(\"div\",{className:classes.Options,children:Object.keys(categoryMapping).map(categoryKey=>/*#__PURE__*/_jsx(\"button\",{className:selectedCategoryOptions.includes(categoryKey)?classes.SelectedOption:'',onClick:e=>{e.stopPropagation();handleCategoryOptionClick(categoryKey);},children:categoryMapping[categoryKey]},categoryKey))})]}),/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleSortClick('price'),style:{color:sortBy==='price'?'#AC8BD5':''},children:[\"\\u0426\\u0435\\u043D\\u0430 \",sortBy==='price'&&(sortOrder==='asc'?'↑':'↓')]}),/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleSortClick('createdAt'),style:{color:sortBy==='createdAt'?'#AC8BD5':''},children:[\"\\u041D\\u043E\\u0432\\u0438\\u0437\\u043D\\u0435 \",sortBy==='createdAt'&&(sortOrder==='asc'?'↑':'↓')]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.Products__Wrapper,children:products.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:classes.product__card,onClick:()=>redirectToProductPage(product.vendorCode),children:[/*#__PURE__*/_jsx(\"h2\",{children:formatBrand(product.brand)+' '+product.silhouette+' '+product.color}),/*#__PURE__*/_jsxs(\"h2\",{children:[product.price,\"\\u20BD\"]}),/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.brand})]},index))})]})});};export default ProductsPage;","map":{"version":3,"names":["React","useState","useEffect","classes","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","ProductsPage","originalProducts","setOriginalProducts","products","setProducts","loading","setLoading","page","setPage","loadedProductIds","setLoadedProductIds","Set","sortOrder","setSortOrder","sortBy","setSortBy","showSizeOptions","setShowSizeOptions","showBrandOptions","setShowBrandOptions","showCategoryOptions","setShowCategoryOptions","apiBrands","setApiBrands","availableSizes","setAvailableSizes","selectedSizeOptions","setSelectedSizeOptions","allBrands","setAllBrands","selectedBrandOptions","setSelectedBrandOptions","selectedCategoryOptions","setSelectedCategoryOptions","navigate","location","searchParams","URLSearchParams","search","selectedBrand","get","prevScrollPos","setPrevScrollPos","isFixed","setIsFixed","isFixedTriggered","setIsFixedTriggered","screenWidth","window","innerWidth","fetchProducts","response","fetch","data","json","newProducts","filter","product","has","vendorCode","reverse","prevOriginalProducts","prevProducts","prevIds","map","prevPage","error","console","handleScrollFixed","currentScrollPos","scrollY","isMobile","addEventListener","removeEventListener","getQueryParam","name","params","sizesParam","brandsParam","categoryParam","sortByParam","sortOrderParam","split","brandOptions","brand","trim","updateUrl","length","append","join","option","concat","toString","handleBrandOptionClick","fetchBrands","handleScroll","scrollThreshold","isCloseToBottom","innerHeight","document","documentElement","scrollTop","offsetHeight","handleScrollPopup","redirectToProductPage","link","toLowerCase","formatBrand","words","handleSortClick","sortType","handleSizeOptionClick","size","newData","includes","prevOptions","prevSize","uniqueNewData","newItem","some","existingItem","id","selectedBrands","item","isBrandSelected","optionBrands","handleCategoryOptionClick","category","log","isCategorySelected","indexOf","handleSizeFilterClick","prevShowSizeOptions","handleBrandFilterClick","prevShowBrandOptions","handleCategoryFilterClick","prevShowCategoryOptions","applyFilters","filteredProducts","sizes","selectedCategory","categories","sort","a","b","priceA","price","priceB","dateA","Date","createdAt","dateB","flatMap","parseFloat","brands","categoryMapping","accessories","clothes","newSneakers","preorder","used","children","className","Wrapper","Filters","fixed","notfixed","onClick","style","color","Options","SelectedOption","e","stopPropagation","isSelected","brandClass","Object","keys","categoryKey","Products__Wrapper","index","product__card","silhouette","src","images","alt"],"sources":["D:/project/nicedunks/nicedunks/src/components/ProductsPage/ProductsPage.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect } from 'react';\r\nimport classes from './ProductsPage.module.css';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\n\r\nconst ProductsPage = () => {\r\n  const [originalProducts, setOriginalProducts] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [loadedProductIds, setLoadedProductIds] = useState(new Set());\r\n  const [sortOrder, setSortOrder] = useState('desc'); \r\n  const [sortBy, setSortBy] = useState('createdAt');\r\n  const [showSizeOptions, setShowSizeOptions] = useState(false);\r\n  const [showBrandOptions, setShowBrandOptions] = useState(false);\r\n  const [showCategoryOptions, setShowCategoryOptions] = useState(false);\r\n  const [apiBrands, setApiBrands] = useState([]);\r\n  const [availableSizes, setAvailableSizes] = useState([]);\r\n  const [selectedSizeOptions, setSelectedSizeOptions] = useState([]);\r\n  const [allBrands, setAllBrands] = useState([]);\r\n  const [selectedBrandOptions, setSelectedBrandOptions] = useState([]);\r\n  const [selectedCategoryOptions, setSelectedCategoryOptions] = useState([]);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const selectedBrand = searchParams.get('brand');\r\n  const [prevScrollPos, setPrevScrollPos] = useState(0);\r\n  const [isFixed, setIsFixed] = useState(false);\r\n  const [isFixedTriggered, setIsFixedTriggered] = useState(false);\r\n  const screenWidth = window.innerWidth;\r\n\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`https://nicedunks.ru/api/sneakers?`);\r\n      const data = await response.json();\r\n      const newProducts = data.filter((product) => !loadedProductIds.has(product.vendorCode));\r\n      newProducts.reverse();\r\n      setOriginalProducts((prevOriginalProducts) => [...prevOriginalProducts, ...newProducts]);\r\n      setProducts((prevProducts) => [...prevProducts, ...newProducts]);\r\n      setLoadedProductIds((prevIds) => new Set([...prevIds, ...newProducts.map((product) => product.vendorCode)]));\r\n      setPage((prevPage) => prevPage + 1);\r\n    } catch (error) {\r\n      console.error('Ошибка при загрузке товаров', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleScrollFixed = () => {\r\n    const currentScrollPos = window.scrollY;\r\n    const isMobile = screenWidth <= 486;\r\n  \r\n    if (isMobile) {\r\n      setIsFixed(prevScrollPos > currentScrollPos);\r\n      if (currentScrollPos < 100) {\r\n        setIsFixed(false);\r\n      }\r\n      setPrevScrollPos(currentScrollPos);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isFixed) {\r\n      setIsFixedTriggered(true);\r\n    } if (window.scrollY < 200) {\r\n      setIsFixedTriggered(false)\r\n    }\r\n  }, [isFixed]);\r\n\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScrollFixed);\r\n    return () => window.removeEventListener('scroll', handleScrollFixed);\r\n  }, [prevScrollPos]);\r\n\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScrollFixed);\r\n    return () => window.removeEventListener('scroll', handleScrollFixed);\r\n  }, [prevScrollPos]);\r\n\r\n  const getQueryParam = (name) => {\r\n    const params = new URLSearchParams(location.search);\r\n    return params.get(name);\r\n  };\r\n  useEffect(() => {\r\n    const sizesParam = getQueryParam('sizes');\r\n    const brandsParam = getQueryParam('brands');\r\n    const categoryParam = getQueryParam('category');\r\n    const sortByParam = getQueryParam('sortBy');\r\n    const sortOrderParam = getQueryParam('sortOrder');\r\n\r\n    if (sizesParam) {\r\n      setSelectedSizeOptions(sizesParam.split(','));\r\n    }\r\n\r\n    if (brandsParam) {\r\n      const brandOptions = brandsParam.split(',').map((brand) => ({ brand: brand.trim() }));\r\n      setSelectedBrandOptions(brandOptions);\r\n    }\r\n\r\n    if (categoryParam) {\r\n      setSelectedCategoryOptions(categoryParam.split(','));\r\n    }\r\n\r\n    if (sortByParam) {\r\n      setSortBy(sortByParam);\r\n    }\r\n\r\n    if (sortOrderParam) {\r\n      setSortOrder(sortOrderParam);\r\n    }\r\n  }, []);\r\n\r\n\r\n  const updateUrl = () => {\r\n    const searchParams = new URLSearchParams();\r\n\r\n    if (selectedSizeOptions.length > 0) {\r\n      searchParams.append('sizes', selectedSizeOptions.join(','));\r\n    }\r\n\r\n    if (selectedBrandOptions.length > 0) {\r\n      searchParams.append('brands', selectedBrandOptions.map(option => option.brand).join(','));\r\n    }\r\n\r\n    if (selectedCategoryOptions.length > 0) {\r\n      searchParams.append('category', selectedCategoryOptions.join(','));\r\n    }\r\n\r\n    searchParams.append('sortBy', sortBy);\r\n    searchParams.append('sortOrder', sortOrder);\r\n\r\n    navigate(`?${searchParams.toString()}`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateUrl();\r\n  }, [selectedSizeOptions, selectedBrandOptions, selectedCategoryOptions, sortOrder, sortBy]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (selectedBrand) {\r\n      handleBrandOptionClick(selectedBrand);\r\n    }\r\n  }, [selectedBrand]);\r\n\r\n  const fetchBrands = async () => {\r\n    try {\r\n      const response = await fetch('https://nicedunks.ru/api/brands');\r\n      const data = await response.json();\r\n      setApiBrands(data);\r\n    } catch (error) {\r\n      console.error('Ошибка при загрузке брендов:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBrands();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleScroll = () => {\r\n    const scrollThreshold = 100;\r\n    const isCloseToBottom =\r\n      window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight - scrollThreshold;\r\n\r\n    if (isCloseToBottom && !loading) {\r\n      fetchProducts();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, [loading]);\r\n\r\n  const handleScrollPopup = () => {\r\n    const currentScrollPos = window.scrollY;\r\n    const isMobile = screenWidth <= 486;\r\n  \r\n    if (isMobile && (showSizeOptions || showBrandOptions || showCategoryOptions) && prevScrollPos < currentScrollPos) {\r\n      setShowSizeOptions(false);\r\n      setShowBrandOptions(false);\r\n      setShowCategoryOptions(false);\r\n    }\r\n  \r\n    setPrevScrollPos(currentScrollPos);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScrollPopup);\r\n    return () => window.removeEventListener('scroll', handleScrollPopup);\r\n  }, [showSizeOptions, showBrandOptions, showCategoryOptions]);\r\n\r\n  const redirectToProductPage = (vendorCode) => {\r\n    const link = `/product/${vendorCode.toLowerCase()}`;\r\n    navigate(link);\r\n  };\r\n\r\n  const formatBrand = (brand) => {\r\n    const words = brand.split(/\\s*,\\s*/);\r\n    if (words.length > 1) {\r\n      return words.join(' X ');\r\n    }\r\n    return brand;\r\n  };\r\n\r\n  const handleSortClick = (sortType) => {\r\n    if (sortType === sortBy) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortBy(sortType);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n  const handleSizeOptionClick = async (size) => {\r\n    try {\r\n      const response = await fetch(`https://nicedunks.ru/api/sneakers?sizes=${size}`);\r\n      const newData = await response.json();\r\n  \r\n      if (selectedSizeOptions.includes(size)) {\r\n        setSelectedSizeOptions((prevOptions) => prevOptions.filter((prevSize) => prevSize !== size));\r\n      } else {\r\n        const uniqueNewData = newData.filter((newItem) => {\r\n          return !originalProducts.some((existingItem) => {\r\n            return newItem.id === existingItem.id;\r\n          });\r\n        });\r\n  \r\n        setOriginalProducts((prevOriginalProducts) => [\r\n          ...prevOriginalProducts,\r\n          ...uniqueNewData,\r\n        ]);\r\n  \r\n        setSelectedSizeOptions((prevOptions) => [...prevOptions, size]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка при получении данных:', error);\r\n    }\r\n  };\r\n  \r\n  const handleBrandOptionClick = async (brand) => {\r\n    try {\r\n      const response = await fetch(`https://nicedunks.ru/api/sneakers?brands=${brand}`);\r\n      const data = await response.json();\r\n  \r\n      const selectedBrands = brand.split(',').map(item => item.trim());\r\n  \r\n      const isBrandSelected = selectedBrandOptions.some((option) => {\r\n        const optionBrands = option.brand.split(',').map(item => item.trim());\r\n        return optionBrands.some(brand => selectedBrands.includes(brand));\r\n      });\r\n  \r\n      if (isBrandSelected) {\r\n        setSelectedBrandOptions((prevOptions) => prevOptions.filter((option) => {\r\n          const optionBrands = option.brand.split(',').map(item => item.trim());\r\n          return !optionBrands.some(brand => selectedBrands.includes(brand));\r\n        }));\r\n        setProducts((prevProducts) => prevProducts.filter((product) => !data.some((newItem) => newItem.id === product.id)));\r\n      } else {\r\n        setProducts((prevProducts) => [...prevProducts, ...data]);\r\n        setSelectedBrandOptions((prevOptions) => [...prevOptions, ...data]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка при получении данных:', error);\r\n    }\r\n  };\r\n  \r\n\r\n  const handleCategoryOptionClick = async (category) => {\r\n    try {\r\n      const response = await fetch(`https://nicedunks.ru/api/sneakers?category=${category}`);\r\n      const data = await response.json();\r\n      console.log('Полученные данные:', data);\r\n\r\n      const isCategorySelected = selectedCategoryOptions.indexOf(category) !== -1;\r\n      if (isCategorySelected) {\r\n        setSelectedCategoryOptions((prevOptions) => prevOptions.filter((option) => option !== category));\r\n        setProducts((prevProducts) => prevProducts.filter((product) => !data.some((newItem) => newItem.id === product.id)));\r\n      } else {\r\n        setProducts((prevProducts) => [...prevProducts, ...data]);\r\n        setSelectedCategoryOptions((prevOptions) => [...prevOptions, category]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка при получении данных:', error);\r\n    }\r\n  };\r\n\r\n  const handleSizeFilterClick = () => {\r\n    setShowSizeOptions((prevShowSizeOptions) => !prevShowSizeOptions);\r\n\r\n    if (window.innerWidth <= 486) {\r\n      setShowBrandOptions(false);\r\n      setShowCategoryOptions(false);\r\n    }\r\n  };\r\n\r\n  const handleBrandFilterClick = () => {\r\n    setShowBrandOptions((prevShowBrandOptions) => !prevShowBrandOptions);\r\n    if (window.innerWidth <= 486) {\r\n      setShowSizeOptions(false);\r\n      setShowCategoryOptions(false);\r\n    }\r\n  };\r\n\r\n  const handleCategoryFilterClick = () => {\r\n    setShowCategoryOptions((prevShowCategoryOptions) => !prevShowCategoryOptions);\r\n    if (window.innerWidth <= 486) {\r\n      setShowBrandOptions(false);\r\n      setShowSizeOptions(false);\r\n    }\r\n  };\r\n\r\n  const applyFilters = () => {\r\n    let filteredProducts = [...originalProducts];\r\n  \r\n    if (selectedSizeOptions.length > 0) {\r\n      filteredProducts = filteredProducts.filter((product) =>\r\n        product.sizes.some((size) => selectedSizeOptions.includes(size))\r\n      );\r\n    }\r\n  \r\n    if (selectedBrandOptions.length > 0) {\r\n      filteredProducts = filteredProducts.filter((product) =>\r\n        selectedBrandOptions.some((option) => option.brand === product.brand)\r\n      );\r\n    }\r\n\r\n    if (selectedCategoryOptions.length > 0) {\r\n      filteredProducts = filteredProducts.filter((product) =>\r\n      selectedCategoryOptions.some((selectedCategory) => product.categories[selectedCategory]\r\n    )\r\n);\r\n\r\n    }\r\n  \r\n    // Сортировка\r\n    if (sortBy === 'price') {\r\n      filteredProducts.sort((a, b) => {\r\n        const priceA = a.price;\r\n        const priceB = b.price;\r\n        return sortOrder === 'asc' ? priceA - priceB : priceB - priceA;\r\n      });\r\n    }\r\n  \r\n    if (sortBy === 'createdAt') {\r\n      filteredProducts.sort((a, b) => {\r\n        const dateA = new Date(a.createdAt);\r\n        const dateB = new Date(b.createdAt);\r\n        return sortOrder === 'asc' ? dateA - dateB : dateB - dateA;\r\n      });\r\n    }\r\n  \r\n    setProducts(filteredProducts);\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    applyFilters();\r\n  }, [selectedSizeOptions, selectedBrandOptions, selectedCategoryOptions, sortOrder, sortBy, originalProducts]);\r\n\r\n  useEffect(() => {\r\n    const sizes = [...new Set(originalProducts.flatMap((product) => product.sizes))];\r\n    sizes.sort((a, b) => parseFloat(a) - parseFloat(b));\r\n    setAvailableSizes(sizes);\r\n\r\n    const brands = [...new Set(originalProducts.map((product) => product.brand))];\r\n    brands.sort((a, b) => parseFloat(a) - parseFloat(b));\r\n    setAllBrands(brands);\r\n  }, [originalProducts]);\r\n\r\n  const categoryMapping = {\r\n  accessories: 'Аксессуары',\r\n  clothes: 'Одежда',\r\n  newSneakers: 'Новые пары',\r\n  preorder: 'Предзаказ',\r\n  used: 'Б/У',\r\n};\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.Wrapper}>\r\n      <div className={`${classes.Filters} ${isFixed ? classes.fixed : (screenWidth <= 486 && isFixedTriggered ? classes.notfixed : '')}`}>\r\n          <p>Сортировать по:</p>\r\n          <ul>\r\n            <li\r\n              onClick={() => handleSizeFilterClick()}\r\n              style={{ color: selectedSizeOptions.length > 0 ? '#AC8BD5' : '' }}\r\n            >\r\n              Размеры\r\n              {showSizeOptions && (\r\n                <div className={classes.Options}>\r\n                  {availableSizes.map((size) => (\r\n                    <button\r\n                      key={size}\r\n                      className={selectedSizeOptions.includes(size) ? classes.SelectedOption : ''}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleSizeOptionClick(size);\r\n                      }}\r\n                    >\r\n                      {size}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </li>\r\n            <li\r\n              onClick={() => handleBrandFilterClick()}\r\n              style={{ color: selectedBrandOptions.length > 0 ? '#AC8BD5' : '' }}\r\n            >\r\n              Бренды\r\n              {showBrandOptions && (\r\n                <div className={classes.Options}>\r\n                  {apiBrands.map((brand) => {\r\n                    const isSelected = selectedBrandOptions.some((option) => option.brand === brand);\r\n                    const brandClass = isSelected ? classes.SelectedOption : '';\r\n                    return (\r\n                      <button\r\n                        key={brand}\r\n                        className={brandClass}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleBrandOptionClick(brand);\r\n                        }}\r\n                      >\r\n                        {formatBrand(brand)}\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </li>\r\n            <li\r\n              onClick={() => handleCategoryFilterClick()}\r\n              style={{ color: selectedCategoryOptions.length > 0 ? '#AC8BD5' : '' }}\r\n            >\r\n              Категории\r\n              {showCategoryOptions && (\r\n                <div className={classes.Options}>\r\n                  {Object.keys(categoryMapping).map((categoryKey) => (\r\n                  <button\r\n                    key={categoryKey}\r\n                    className={selectedCategoryOptions.includes(categoryKey) ? classes.SelectedOption : ''}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      handleCategoryOptionClick(categoryKey);\r\n                    }}\r\n                  >\r\n                    {categoryMapping[categoryKey]}\r\n                  </button>\r\n                ))}\r\n                </div>\r\n              )}\r\n            </li>\r\n            <li\r\n              onClick={() => handleSortClick('price')}\r\n              style={{ color: sortBy === 'price' ? '#AC8BD5' : '' }}\r\n            >\r\n              Цена {sortBy === 'price' && (sortOrder === 'asc' ? '↑' : '↓')}\r\n            </li>\r\n            <li\r\n              onClick={() => handleSortClick('createdAt')}\r\n              style={{ color: sortBy === 'createdAt' ? '#AC8BD5' : '' }}\r\n            >\r\n              Новизне {sortBy === 'createdAt' && (sortOrder === 'asc' ? '↑' : '↓')}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className={classes.Products__Wrapper}>\r\n          {products.map((product, index) => (\r\n            <div key={index} className={classes.product__card} onClick={() => redirectToProductPage(product.vendorCode)}>\r\n              <h2>\r\n                {formatBrand(product.brand) + ' ' + product.silhouette + ' ' + product.color}\r\n              </h2>\r\n              <h2>{product.price}₽</h2>\r\n              <img src={product.images[0]} alt={product.brand} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}