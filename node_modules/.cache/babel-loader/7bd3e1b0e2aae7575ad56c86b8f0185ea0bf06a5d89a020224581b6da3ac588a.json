{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import classes from'./HeaderNavigation.module.css';import searchIcon from'../icons/search.svg';import cartIcon from'../icons/headercart.svg';import Cart from'../../Cart/Cart';import{useCart}from'../../Cart/CartContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HeaderNavigation=_ref=>{let{cartItems}=_ref;const{cart}=useCart();const[headerWords]=useState(['НОВЫЕ ПОСТУПЛЕНИЯ','ОДЕЖДА','АКСЕССУАРЫ','НОВЫЕ КРОССОВКИ','БРЕНДЫ','Б/У КРОССОВКИ','ПРЕДЗАКАЗ','НА ГЛАВНУЮ']);const[isCartOpen,setIsCartOpen]=useState(false);const[isSearchModalOpen,setIsSearchModalOpen]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[brandsModalOpen,setBrandsModalOpen]=useState(false);const[brands,setBrands]=useState([]);const navigate=useNavigate();const[prevScrollPos,setPrevScrollPos]=useState(0);const[isFixed,setIsFixed]=useState(false);const[isFixedTriggered,setIsFixedTriggered]=useState(false);const screenWidth=window.innerWidth;const modalRef=useRef(null);const[isProductsWrapperVisible,setIsProductsWrapperVisible]=useState(true);const wordMapping={'НОВЫЕ ПОСТУПЛЕНИЯ':'','ОДЕЖДА':'clothes','АКСЕССУАРЫ':'accessories','НОВЫЕ КРОССОВКИ':'newSneakers','БРЕНДЫ':'','Б/У КРОССОВКИ':'used','ПРЕДЗАКАЗ':'preorder','НА ГЛАВНУЮ':'/'};const handleScrollFixed=()=>{const currentScrollPos=window.scrollY;const isMobile=screenWidth<=486;if(isMobile){setIsFixed(prevScrollPos>currentScrollPos);if(currentScrollPos<100){setIsFixed(false);}setPrevScrollPos(currentScrollPos);}};useEffect(()=>{if(isFixed){setIsFixedTriggered(true);}if(window.scrollY<200){setIsFixedTriggered(false);}},[isFixed]);useEffect(()=>{window.addEventListener('scroll',handleScrollFixed);return()=>window.removeEventListener('scroll',handleScrollFixed);},[prevScrollPos]);useEffect(()=>{const handleClickOutside=event=>{if(modalRef.current&&!modalRef.current.contains(event.target)){setIsSearchModalOpen(false);}};const handleEscapeKey=event=>{if(event.keyCode===27){setIsSearchModalOpen(false);}};if(isSearchModalOpen){document.addEventListener('mousedown',handleClickOutside);document.addEventListener('keydown',handleEscapeKey);}return()=>{document.removeEventListener('mousedown',handleClickOutside);document.removeEventListener('keydown',handleEscapeKey);};},[isSearchModalOpen]);const navigateTo=word=>{if(word==='НА ГЛАВНУЮ'){window.location.href='/';}else if(word==='cart'&&cart.length>0){setIsCartOpen(true);}else if(word==='cart'&&cart.length===0){return;}else if(word==='БРЕНДЫ'){toggleBrandsModal();}else{const englishWord=wordMapping[word]||'';window.location.href=\"/all%20products?category=\".concat(englishWord);}};const fetchBrands=async()=>{try{const response=await fetch('https://nicedunks.ru/api/brands');const data=await response.json();setBrands(data);}catch(error){console.error('Ошибка при загрузке брендов:',error);}};useEffect(()=>{fetchBrands();},[]);const handleSearchIconClick=()=>{setIsSearchModalOpen(true);setIsProductsWrapperVisible(true);};const handleSearchInputChange=async e=>{const query=e.target.value;setSearchQuery(query);if(query.trim()!==''){try{const response=await fetch(\"https://nicedunks.ru/api/search?query=\".concat(query));const data=await response.json();setSearchResults(data);}catch(error){console.error('Error fetching search results:',error);}}else{setSearchResults([]);setIsProductsWrapperVisible(true);}};const closeCart=()=>{setIsCartOpen(false);};const redirectToProductPage=vendorCode=>{const link=\"/product/\".concat(vendorCode.toLowerCase());navigate(link);};const formatBrand=brand=>{const words=brand.split(/\\s*,\\s*/);if(words.length>1){return words.join(' X ');}return brand;};const handleModalClose=()=>{setSearchQuery('');setSearchResults([]);if(window.innerWidth<=765){setIsProductsWrapperVisible(false);}else{setIsSearchModalOpen(false);}handleSearchInputChange({target:{value:''}});};const handleBrandOptionClick=brand=>{const link=\"/all products/?brand=\".concat(brand);navigate(link);};useEffect(()=>{const handleResize=()=>{if(window.innerWidth<767){setIsSearchModalOpen(true);}else{setIsSearchModalOpen(false);}};handleResize();window.addEventListener('resize',handleResize);return()=>{window.removeEventListener('resize',handleResize);};},[]);const toggleBrandsModal=()=>{setBrandsModalOpen(!brandsModalOpen);};return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.HeaderNavigation__wrapper,\" \").concat(isFixed?classes.fixed:screenWidth<=486&&isFixedTriggered?classes.notfixed:''),children:[/*#__PURE__*/_jsx(\"div\",{className:classes.SearchWrapper,onClick:handleSearchIconClick,style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(\"img\",{src:searchIcon,alt:\"\\u043F\\u043E\\u0438\\u0441\\u043A\",style:{marginTop:39,cursor:'pointer',marginLeft:0,marginRight:0,maxWidth:100}})}),headerWords.map((word,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.HeaderNavigation,\" \").concat(word==='ПРЕДЗАКАЗ'?classes.preorderButton:''),onClick:()=>navigateTo(word),children:word},index)),/*#__PURE__*/_jsxs(\"div\",{className:classes.CartWrapper,onClick:()=>navigateTo('cart'),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"img\",{src:cartIcon,alt:\"\\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\",style:{marginTop:38,cursor:'pointer',marginLeft:0,marginRight:0,maxWidth:100}}),cart.length!==0?' '+cart.length:' ']}),isCartOpen&&/*#__PURE__*/_jsx(Cart,{cartItems:cartItems,onClose:closeCart}),isSearchModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:classes.SearchModalContainer,children:/*#__PURE__*/_jsxs(\"div\",{сlassName:classes.ModalContent,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.ModalSearch,children:[/*#__PURE__*/_jsx(\"img\",{src:searchIcon,alt:\"\\u043F\\u043E\\u0438\\u0441\\u043A\",style:{marginTop:38,cursor:'pointer',marginLeft:10,marginRight:0}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:handleSearchInputChange,placeholder:\"\\u0418\\u0441\\u043A\\u0430\\u0442\\u044C \\u0432 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.CloseButton,onClick:handleModalClose,children:\"\\u0425\"})]}),isProductsWrapperVisible&&searchResults&&searchResults.length>0?/*#__PURE__*/_jsx(\"div\",{className:classes.Products__Wrapper,children:searchResults.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:classes.product__card,onClick:()=>redirectToProductPage(product.vendorCode),children:[/*#__PURE__*/_jsx(\"h2\",{children:formatBrand(product.brand)+' '+product.silhouette+' '+product.color}),/*#__PURE__*/_jsxs(\"h2\",{children:[product.price,\"\\u20BD\"]}),/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.brand})]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\" \"})]})}),brandsModalOpen&&/*#__PURE__*/_jsxs(\"div\",{className:classes.BrandsModalContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0421\\u041F\\u0418\\u0421\\u041E\\u041A \\u0411\\u0420\\u0415\\u041D\\u0414\\u041E\\u0412:\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.BrandsModalContent,children:brands.map((brand,index)=>/*#__PURE__*/_jsx(\"p\",{onClick:()=>handleBrandOptionClick(brand),children:brand},index))})]})]});};export default HeaderNavigation;","map":{"version":3,"names":["React","useEffect","useState","useRef","classes","searchIcon","cartIcon","Cart","useCart","useNavigate","jsx","_jsx","jsxs","_jsxs","HeaderNavigation","_ref","cartItems","cart","headerWords","isCartOpen","setIsCartOpen","isSearchModalOpen","setIsSearchModalOpen","searchQuery","setSearchQuery","searchResults","setSearchResults","brandsModalOpen","setBrandsModalOpen","brands","setBrands","navigate","prevScrollPos","setPrevScrollPos","isFixed","setIsFixed","isFixedTriggered","setIsFixedTriggered","screenWidth","window","innerWidth","modalRef","isProductsWrapperVisible","setIsProductsWrapperVisible","wordMapping","handleScrollFixed","currentScrollPos","scrollY","isMobile","addEventListener","removeEventListener","handleClickOutside","event","current","contains","target","handleEscapeKey","keyCode","document","navigateTo","word","location","href","length","toggleBrandsModal","englishWord","concat","fetchBrands","response","fetch","data","json","error","console","handleSearchIconClick","handleSearchInputChange","e","query","value","trim","closeCart","redirectToProductPage","vendorCode","link","toLowerCase","formatBrand","brand","words","split","join","handleModalClose","handleBrandOptionClick","handleResize","className","HeaderNavigation__wrapper","fixed","notfixed","children","SearchWrapper","onClick","style","cursor","src","alt","marginTop","marginLeft","marginRight","maxWidth","map","index","preorderButton","CartWrapper","onClose","SearchModalContainer","сlassName","ModalContent","ModalSearch","type","onChange","placeholder","CloseButton","Products__Wrapper","product","product__card","silhouette","color","price","images","BrandsModalContainer","BrandsModalContent"],"sources":["D:/project/nicedunks/nicedunks/src/components/UI/HeaderNavigation/HeaderNavigation.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport classes from './HeaderNavigation.module.css';\r\nimport searchIcon from '../icons/search.svg';\r\nimport cartIcon from '../icons/headercart.svg';\r\nimport Cart from '../../Cart/Cart';\r\nimport { useCart } from '../../Cart/CartContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst HeaderNavigation = ({ cartItems }) => {\r\n  const { cart } = useCart();\r\n  const [headerWords] = useState([\r\n    'НОВЫЕ ПОСТУПЛЕНИЯ',\r\n    'ОДЕЖДА',\r\n    'АКСЕССУАРЫ',\r\n    'НОВЫЕ КРОССОВКИ',\r\n    'БРЕНДЫ',\r\n    'Б/У КРОССОВКИ',\r\n    'ПРЕДЗАКАЗ',\r\n    'НА ГЛАВНУЮ',\r\n  ]);\r\n  const [isCartOpen, setIsCartOpen] = useState(false);\r\n  const [isSearchModalOpen, setIsSearchModalOpen] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [brandsModalOpen, setBrandsModalOpen] = useState(false);\r\n  const [brands, setBrands] = useState([]);\r\n  const navigate = useNavigate();\r\n  const [prevScrollPos, setPrevScrollPos] = useState(0);\r\n  const [isFixed, setIsFixed] = useState(false);\r\n  const [isFixedTriggered, setIsFixedTriggered] = useState(false);\r\n  const screenWidth = window.innerWidth;\r\n  const modalRef = useRef(null);\r\n  const [isProductsWrapperVisible, setIsProductsWrapperVisible] = useState(true);\r\n\r\n  const wordMapping = {\r\n    'НОВЫЕ ПОСТУПЛЕНИЯ': '',\r\n    'ОДЕЖДА': 'clothes',\r\n    'АКСЕССУАРЫ': 'accessories',\r\n    'НОВЫЕ КРОССОВКИ': 'newSneakers',\r\n    'БРЕНДЫ': '',\r\n    'Б/У КРОССОВКИ': 'used',\r\n    'ПРЕДЗАКАЗ': 'preorder',\r\n    'НА ГЛАВНУЮ': '/',\r\n  };\r\n\r\n  const handleScrollFixed = () => {\r\n    const currentScrollPos = window.scrollY;\r\n    const isMobile = screenWidth <= 486;\r\n  \r\n    if (isMobile) {\r\n      setIsFixed(prevScrollPos > currentScrollPos);\r\n      if (currentScrollPos < 100) {\r\n        setIsFixed(false);\r\n      }\r\n      setPrevScrollPos(currentScrollPos);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isFixed) {\r\n      setIsFixedTriggered(true);\r\n    } if (window.scrollY < 200) {\r\n      setIsFixedTriggered(false)\r\n    }\r\n  }, [isFixed]);\r\n\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScrollFixed);\r\n    return () => window.removeEventListener('scroll', handleScrollFixed);\r\n  }, [prevScrollPos]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\r\n        setIsSearchModalOpen(false);\r\n      }\r\n    };\r\n\r\n    const handleEscapeKey = (event) => {\r\n      if (event.keyCode === 27) {\r\n        setIsSearchModalOpen(false);\r\n      }\r\n    };\r\n\r\n    if (isSearchModalOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      document.addEventListener('keydown', handleEscapeKey);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n      document.removeEventListener('keydown', handleEscapeKey);\r\n    };\r\n  }, [isSearchModalOpen]);\r\n\r\n\r\n  const navigateTo = (word) => {\r\n    if (word === 'НА ГЛАВНУЮ') {\r\n      window.location.href = '/';\r\n    } else if (word === 'cart' && cart.length > 0) {\r\n      setIsCartOpen(true);\r\n    } else if (word === 'cart' && cart.length === 0) {\r\n      return;\r\n    } else if (word === 'БРЕНДЫ') {\r\n      toggleBrandsModal(); \r\n    } else {\r\n      const englishWord = wordMapping[word] || '';\r\n      window.location.href = `/all%20products?category=${englishWord}`;\r\n    }\r\n  };\r\n\r\n  const fetchBrands = async () => {\r\n    try {\r\n      const response = await fetch('https://nicedunks.ru/api/brands');\r\n      const data = await response.json();\r\n      setBrands(data);\r\n    } catch (error) {\r\n      console.error('Ошибка при загрузке брендов:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBrands();\r\n  }, []);\r\n\r\n  const handleSearchIconClick = () => {\r\n    setIsSearchModalOpen(true);\r\n    setIsProductsWrapperVisible(true);\r\n  };\r\n\r\n  const handleSearchInputChange = async (e) => {\r\n    const query = e.target.value;\r\n    setSearchQuery(query);\r\n    if (query.trim() !== '') {\r\n      try {\r\n        const response = await fetch(`https://nicedunks.ru/api/search?query=${query}`);\r\n        const data = await response.json();\r\n        setSearchResults(data);\r\n      } catch (error) {\r\n        console.error('Error fetching search results:', error);\r\n      }\r\n    } else {\r\n      setSearchResults([]);\r\n      setIsProductsWrapperVisible(true);\r\n    }\r\n  };\r\n\r\n  const closeCart = () => {\r\n    setIsCartOpen(false);\r\n  };\r\n\r\n  const redirectToProductPage = (vendorCode) => {\r\n    const link = `/product/${vendorCode.toLowerCase()}`;\r\n    navigate(link);\r\n  };\r\n\r\n  const formatBrand = (brand) => {\r\n    const words = brand.split(/\\s*,\\s*/);\r\n    if (words.length > 1) {\r\n      return words.join(' X ');\r\n    }\r\n    return brand;\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setSearchQuery('');\r\n    setSearchResults([]);\r\n    \r\n    if (window.innerWidth <= 765) {\r\n      setIsProductsWrapperVisible(false);\r\n    } else {\r\n      setIsSearchModalOpen(false);\r\n    }\r\n\r\n    handleSearchInputChange({ target: { value: '' }});\r\n  };\r\n  \r\n  \r\n\r\n  const handleBrandOptionClick = (brand) => {\r\n    const link = `/all products/?brand=${brand}`;\r\n    navigate(link);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth < 767) {\r\n        setIsSearchModalOpen(true);\r\n      } else {\r\n        setIsSearchModalOpen(false);\r\n      }\r\n    };\r\n\r\n    handleResize();\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const toggleBrandsModal = () => {\r\n    setBrandsModalOpen(!brandsModalOpen);\r\n  };\r\n\r\n  return (\r\n    <div className={`${classes.HeaderNavigation__wrapper} ${isFixed ? classes.fixed : (screenWidth <= 486 && isFixedTriggered ? classes.notfixed : '')}`}>\r\n      <div\r\n        className={classes.SearchWrapper}\r\n        onClick={handleSearchIconClick}\r\n        style={{ cursor: 'pointer' }}\r\n      >\r\n        <img\r\n          src={searchIcon}\r\n          alt=\"поиск\"\r\n          style={{ marginTop: 39, cursor: 'pointer', marginLeft: 0, marginRight: 0, maxWidth: 100 }}\r\n        />\r\n      </div>\r\n      {headerWords.map((word, index) => (\r\n        <div\r\n          className={`${classes.HeaderNavigation} ${word === 'ПРЕДЗАКАЗ' ? classes.preorderButton : ''}`}\r\n          key={index}\r\n          onClick={() => navigateTo(word)}\r\n        >\r\n          {word}\r\n        </div>\r\n      ))}\r\n      <div\r\n        className={classes.CartWrapper}\r\n        onClick={() => navigateTo('cart')}\r\n        style={{ cursor: 'pointer' }}\r\n      >\r\n        <img\r\n          src={cartIcon}\r\n          alt=\"корзина\"\r\n          style={{ marginTop: 38, cursor: 'pointer', marginLeft: 0, marginRight: 0, maxWidth: 100 }}\r\n        />\r\n        {cart.length !== 0 ? ' ' + cart.length : ' '}\r\n      </div>\r\n      {isCartOpen && <Cart cartItems={cartItems} onClose={closeCart} />}\r\n      {isSearchModalOpen && (\r\n        <div className={classes.SearchModalContainer}>\r\n          <div сlassName={classes.ModalContent}>\r\n            <div className={classes.ModalSearch}>\r\n              <img\r\n                src={searchIcon}\r\n                alt=\"поиск\"\r\n                style={{ marginTop: 38, cursor: 'pointer', marginLeft: 10, marginRight: 0 }}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                value={searchQuery}\r\n                onChange={handleSearchInputChange}\r\n                placeholder=\"Искать в каталоге\"\r\n              />\r\n              <div className={classes.CloseButton} onClick={handleModalClose}>\r\n                Х\r\n              </div>\r\n            </div>\r\n            {isProductsWrapperVisible && searchResults && searchResults.length > 0 ? (\r\n              <div className={classes.Products__Wrapper}>\r\n                {searchResults.map((product, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={classes.product__card}\r\n                    onClick={() => redirectToProductPage(product.vendorCode)}\r\n                  >\r\n                    <h2>{formatBrand(product.brand) + ' ' + product.silhouette + ' ' + product.color}</h2>\r\n                    <h2>{product.price}₽</h2>\r\n                    <img src={product.images[0]} alt={product.brand} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p> </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {brandsModalOpen && (\r\n        <div className={classes.BrandsModalContainer}>\r\n          <h2>СПИСОК БРЕНДОВ:</h2>\r\n          <div className={classes.BrandsModalContent}>\r\n            {brands.map((brand, index) => (\r\n              <p key={index} onClick={() => handleBrandOptionClick(brand)}>\r\n                {brand}\r\n              </p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderNavigation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}